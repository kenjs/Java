<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap   
    PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"   
    "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap>
	<resultMap class="com.cy.driver.assess.domain.UserDriverAssessInfoDomain" id="UserDriverAssessInfoDomain">
		<result property="driverId" column="DRIVER_ID"/>
		<result property="cargoId" column="CARGO_ID"/>
		<result property="transactionId" column="TRANSACTION_ID"/>
		<result property="tradeEvaluateScore" column="TRADE_EVALUATE_SCORE"/>
		<result property="assess" column="ASSESS"/>
		<result property="userId" column="USER_ID"/>
		<result property="name" column="NAME"/>
		<result property="companyId" column="COMPANY_ID"/>
		<result property="mobilephone" column="MOBILEPHONE"/>
		<result property="companyName" column="COMPANY_NAME"/>
		<result property="contactName" column="CONTACT_NAME"/>
		<result property="contactTelephone" column="CONTACT_TELEPHONE"/>
	</resultMap>
	<select id="iBatisSelectUserDriverAssessInfo" parameterClass="map" resultMap="UserDriverAssessInfoDomain">
		SELECT
			t1.DRIVER_ID,
			t1.CARGO_ID,
			t1.TRANSACTION_ID,
			t1.TRADE_EVALUATE_SCORE,
			t1.ASSESS,
			t1.USER_ID,
			t2.`NAME`,
			t2.COMPANY_ID,
			t2.MOBILEPHONE,
			t3.COMPANY_NAME,
			t3.CONTACT_NAME,
			t3.CONTACT_TELEPHONE
		FROM
			t_user_driver_assess_info t1,
			t_web_user_info t2,
			t_company_info t3
		WHERE
			t1.USER_ID = t2.ID
		AND t2.COMPANY_ID = t3.ID
		AND t2.DELETED_FLAG = 0
		AND t3.DELETED_FLAG = 0
		and t1.DRIVER_ID = #driverId#
		ORDER BY t1.TRADE_EVALUATE_SCORE ASC
		limit $fromSize$,$listSize$	
	</select>
</sqlMap>